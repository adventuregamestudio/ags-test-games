// Test Dialog Properties Module Script
//
int GetTestDialogPropertiesCount()
{
  return 16
#ifver 3.6.3
  + 15 // static props
  + 1  // dialog props
#endif
  ;
}

void TestDialogProperties()
{
  tap.Comment("start Dialog Properties tests");
  
  // Basic properties
  tap.is_int(dDialog1.ID, 0, "Dialog.ID (0)");
  tap.is_int(dDialogWithParser.ID, 1, "Dialog.ID (1)");
  tap.is(dDialog1.ScriptName, "dDialog1", "Dialog.ScriptName (0)");
  tap.is(dDialogWithParser.ScriptName, "dDialogWithParser", "Dialog.ScriptName (1)");
  tap.is_int(dDialog1.OptionCount, 5, "Dialog.OptionCount (0)");
  tap.is_int(dDialogWithParser.OptionCount, 8, "Dialog.OptionCount (1)");
  tap.is_int(dDialog1.ShowTextParser, false, "Dialog.ShowTextParser (0)");
  tap.is_int(dDialogWithParser.ShowTextParser, true, "Dialog.ShowTextParser (1)");
  
  // Static settings (supported by v3.6.3 and higher)
#ifver 3.6.3
  DialogOptions.BulletGraphic = 9;
  DialogOptions.Font = eFontFont2;
  DialogOptions.ItemGap = 4;
  DialogOptions.TemplateGUI = gTextWindow1;
  DialogOptions.GUIX = 18;
  DialogOptions.GUIY = 24;
  DialogOptions.HighlightColor = 11234;
  DialogOptions.MaxGUIWidth = 200;
  DialogOptions.MinGUIWidth = 100;
  DialogOptions.ItemNumbering = eDialogOptNumbers_KeysOnly;
  DialogOptions.PaddingX = 6;
  DialogOptions.PaddingY = 8;
  DialogOptions.ReadColor = 23411;
  DialogOptions.TextAlignment = eAlignRight;
  DialogOptions.ZOrder = 111;
  tap.is_int(DialogOptions.BulletGraphic, 9, "DialogOptions.BulletGraphic");
  tap.is_int(DialogOptions.Font, eFontFont2, "DialogOptions.Font");
  tap.is_int(DialogOptions.ItemGap, 4, "DialogOptions.ItemGap");
  tap.is_int(DialogOptions.TemplateGUI.ID, gTextWindow1.ID, "DialogOptions.GUI");
  tap.is_int(DialogOptions.GUIX, 18, "DialogOptions.GUIX");
  tap.is_int(DialogOptions.GUIY, 24, "DialogOptions.GUIY");
  tap.is_int(DialogOptions.HighlightColor, 11234, "DialogOptions.HighlightColor");
  tap.is_int(DialogOptions.MaxGUIWidth, 200, "DialogOptions.MaxGUIWidth");
  tap.is_int(DialogOptions.MinGUIWidth, 100, "DialogOptions.MinGUIWidth");
  tap.is_int(DialogOptions.ItemNumbering, eDialogOptNumbers_KeysOnly, "DialogOptions.ItemNumbering");
  tap.is_int(DialogOptions.PaddingX, 6, "DialogOptions.PaddingX");
  tap.is_int(DialogOptions.PaddingY, 8, "DialogOptions.PaddingY");
  tap.is_int(DialogOptions.ReadColor, 23411, "DialogOptions.ReadColor");
  tap.is_int(DialogOptions.TextAlignment, eAlignRight, "DialogOptions.TextAlignment");
  tap.is_int(DialogOptions.ZOrder, 111, "DialogOptions.ZOrder");
#endif

  // Option states and properties
  dDialog1.SetHasOptionBeenChosen(2, true);
  tap.is_int(dDialog1.HasOptionBeenChosen(1), false, "Dialog.HasOptionBeenChosen (1)");
  tap.is_int(dDialog1.HasOptionBeenChosen(2), true, "Dialog.HasOptionBeenChosen (2)");
  dDialog1.SetOptionState(2, eOptionOff);
  dDialog1.SetOptionState(3, eOptionOffForever);
  tap.is_int(dDialog1.GetOptionState(1), eOptionOn, "Dialog.GetOptionState (1)");
  tap.is_int(dDialog1.GetOptionState(2), eOptionOff, "Dialog.GetOptionState (2)");
  tap.is_int(dDialog1.GetOptionState(3), eOptionOffForever, "Dialog.GetOptionState (3)");
  tap.is(dDialog1.GetOptionText(1), "option 1", "Dialog.GetOptionText (1)");
  tap.is(dDialog1.GetOptionText(2), "option 2", "Dialog.GetOptionText (2)");
  tap.is(dDialog1.GetOptionText(3), "option 3", "Dialog.GetOptionText (3)");
#ifver 3.6.3
  dDialog1.SetOptionText(3, "option 3 +++");
  tap.is(dDialog1.GetOptionText(3), "option 3 +++", "Dialog.SetOptionText");
#endif
  
  tap.Comment("end Dialog Properties tests");
}